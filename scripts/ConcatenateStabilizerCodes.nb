(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     66355,       1561]
NotebookOptionsPosition[     64745,       1530]
NotebookOutlinePosition[     65079,       1545]
CellTagsIndexPosition[     65036,       1542]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
   RowBox[{
   "\"\<last generator\>\"", " ", "is", " ", "the", " ", "logical", " ", 
    "Pauli", " ", "that", " ", "you", " ", "have", " ", "to", " ", "add", " ",
     "to", " ", "the", " ", "stabilizer", " ", "generators", " ", "to", " ", 
    "make", " ", 
    RowBox[{"the", " ", "[", 
     RowBox[{"n", ",", "1"}], "]"}]}], "-", 
   RowBox[{"code", " ", "into", " ", "a", " ", "stabilizer", " ", 
    RowBox[{"state", ".", " ", "Choosing"}], " ", "X", " ", "here", " ", 
    "corresponds", " ", "to", " ", "taking", " ", "the", " ", "logical", " ", 
    "plus", " ", "state", " ", 
    RowBox[{"1", "/", "sqrt"}], 
    RowBox[{"(", "2", ")"}], "*", " ", 
    RowBox[{
     RowBox[{"(", " ", 
      RowBox[{"|", 
       RowBox[{
        RowBox[{"0", "_L"}], ">", " ", "+"}], " ", "|", 
       RowBox[{
        RowBox[{"1", "_L"}], ">"}]}], " ", ")"}], "."}]}]}], " ", 
  "*)"}]], "Input",
 CellChangeTimes->{{3.768124907610608*^9, 3.7681249744032173`*^9}, {
  3.768125264307414*^9, 
  3.768125270258492*^9}},ExpressionUUID->"da6061cf-3f5b-4a3b-a383-\
6b310cf0758e"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "standardForm", "]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"standardForm", "[", 
    RowBox[{"M_", ",", 
     RowBox[{"lastGenerator_:", " ", "\"\<X\>\""}]}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"L", "=", "M"}], ",", "rows", ",", "cols", ",", 
       RowBox[{"r", "=", "1"}], ",", "t", ",", "A", ",", "B", ",", "G", ",", 
       RowBox[{"perms", "=", 
        RowBox[{"{", "}"}]}], ",", "adjMat", ",", "adjMatUnperm"}], "}"}], 
     ",", 
     RowBox[{
      RowBox[{"Assert", "[", 
       RowBox[{"EvenQ", "[", 
        RowBox[{
         RowBox[{"Dimensions", "[", "M", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}], "]"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"cols", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Dimensions", "[", "L", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}], "/", "2"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"rows", "=", 
       RowBox[{
        RowBox[{"Dimensions", "[", "L", "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "If", " ", "generator", " ", "matrix", " ", "includes", " ", 
         "logical", " ", "X", " ", "AND", " ", "logical", " ", "Z"}], ",", 
        RowBox[{
        "keep", " ", "only", " ", "one", " ", "of", " ", "them", " ", "as", 
         " ", "the", " ", "last", " ", "stabilizer", " ", 
         RowBox[{"generator", ".", " ", "This"}], " ", "is", " ", "specified",
          " ", "by", " ", "the", " ", "optional", " ", "argument", " ", 
         "lastGenerator", " ", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"default", ":", "X"}], ",", " ", 
            RowBox[{
            "producing", " ", "the", " ", "plus", " ", "state", " ", "of", 
             " ", "the", " ", "logical", " ", "qubit"}]}], ")"}], "."}]}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"rows", ">", "cols"}], ",", 
        RowBox[{
         RowBox[{"Switch", "[", 
          RowBox[{"lastGenerator", ",", "\"\<Z\>\"", ",", 
           RowBox[{
            RowBox[{"L", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"L", ",", 
               RowBox[{"{", 
                RowBox[{"rows", "-", "1"}], "}"}]}], "]"}]}], ";", 
            RowBox[{"rows", "--"}], ";", "\[IndentingNewLine]", 
            RowBox[{
            "Print", "[", "\"\<Logical X removed from generator matrix.\>\"", 
             "]"}], ";"}], ",", "\"\<X\>\"", ",", 
           RowBox[{
            RowBox[{"L", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"L", ",", 
               RowBox[{"{", "rows", "}"}]}], "]"}]}], ";", 
            RowBox[{"rows", "--"}], ";", "\[IndentingNewLine]", 
            RowBox[{
            "Print", "[", "\"\<Logical Z removed from generator matrix.\>\"", 
             "]"}], ";"}]}], "]"}], ";"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{
          "In", " ", "the", " ", "following", " ", "we", " ", "use", " ", 
           "the", " ", "same", " ", "notation", " ", "for", " ", "the", " ", 
           "blocks", " ", "as", " ", "in", " ", "Nielsen"}], " ", "&"}], " ", 
         "Chuang"}], ",", " ", 
        RowBox[{
         RowBox[{"Sect", ".", " ", "10.5"}], ".7", " ", 
         "\"\<Standard form for a stabilizer code\>\""}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"Gaussian", " ", "elimination", " ", "on", " ", "G1"}], "*)"}], 
      RowBox[{
       RowBox[{"Range", "[", "cols", "]"}], "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"col", ",", 
          RowBox[{
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", "swapPos", "}"}], ",", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"MemberQ", "[", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    RowBox[{"r", ";;", "rows"}], ",", "col"}], "]"}], "]"}], 
                  ",", "1"}], "]"}], ",", 
                RowBox[{
                 RowBox[{"swapPos", "=", 
                  RowBox[{"Last", "[", 
                   RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"All", ",", "col"}], "]"}], "]"}], ",", "1"}], 
                    "]"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"{", 
                    RowBox[{"r", ",", "swapPos"}], "}"}], "]"}], "]"}], "=", 
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"{", 
                    RowBox[{"swapPos", ",", "r"}], "}"}], "]"}], "]"}]}], ";",
                  "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"Join", "[", 
                   RowBox[{
                    RowBox[{"Range", "[", 
                    RowBox[{"1", ",", 
                    RowBox[{"r", "-", "1"}]}], "]"}], ",", 
                    RowBox[{"Range", "[", 
                    RowBox[{
                    RowBox[{"r", "+", "1"}], ",", "rows"}], "]"}]}], "]"}], "//", 
                  RowBox[{"Map", "[", 
                   RowBox[{"Function", "[", 
                    RowBox[{"index", ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "All"}], "]"}], "]"}], "=", 
                    RowBox[{"Mod", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "All"}], "]"}], "]"}], "+", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "col"}], "]"}], "]"}], "*", 
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"r", ",", "All"}], "]"}], "]"}]}]}], ",", "2"}], 
                    "]"}]}], ";"}]}], "]"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"r", "++"}], ";"}]}], "]"}], ";"}]}], "]"}], ";"}]}],
          "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"r", "--"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "swap", " ", "columns", " ", "so", " ", "that", " ", "leading", " ", 
        "entries", " ", "are", " ", "to", " ", "the", " ", "left", " ", 
        RowBox[{"(", 
         RowBox[{
         "forming", " ", "an", " ", "r", " ", "x", " ", "r", " ", "identity", 
          " ", "matrix"}], ")"}]}], "*)"}], 
      RowBox[{
       RowBox[{"Range", "[", "r", "]"}], "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"index", ",", 
          RowBox[{
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", "swapPos", "}"}], ",", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"MemberQ", "[", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"index", ",", 
                    RowBox[{"1", ";;", "cols"}]}], "]"}], "]"}], ",", "1"}], 
                 "]"}], ",", 
                RowBox[{
                 RowBox[{"swapPos", "=", 
                  RowBox[{"First", "[", 
                   RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", 
                    RowBox[{"1", ";;", "cols"}]}], "]"}], "]"}], ",", "1"}], 
                    "]"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{"index", ",", "swapPos"}], "}"}]}], "]"}], "]"}], 
                  "=", 
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{"swapPos", ",", "index"}], "}"}]}], "]"}], 
                   "]"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"(*", 
                  RowBox[{
                   RowBox[{"Don", "'"}], "t", " ", "froget", " ", "to", " ", 
                   "also", " ", "swap", " ", "columns", " ", "in", " ", "the",
                    " ", "Z", " ", "half"}], "*)"}], 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"index", "+", "cols"}], ",", 
                    RowBox[{"swapPos", "+", "cols"}]}], "}"}]}], "]"}], "]"}],
                   "=", 
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"swapPos", "+", "cols"}], ",", 
                    RowBox[{"index", "+", "cols"}]}], "}"}]}], "]"}], "]"}]}],
                  ";", "\[IndentingNewLine]", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"index", "\[NotEqual]", "swapPos"}], ",", 
                   RowBox[{
                    RowBox[{"perms", "=", 
                    RowBox[{"Append", "[", 
                    RowBox[{"perms", ",", 
                    RowBox[{"{", 
                    RowBox[{"index", ",", "swapPos"}], "}"}]}], "]"}]}], 
                    ";"}]}], "]"}], ";"}]}], "]"}], ";"}]}], "]"}], ";"}]}], 
         "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"Gaussian", " ", "elimination", " ", "on", " ", "E"}], "*)"}], 
      
      RowBox[{"t", "=", 
       RowBox[{"r", "+", "1"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{
         RowBox[{"cols", "+", "r", "+", "1"}], ",", 
         RowBox[{"2", "*", "cols"}]}], "]"}], "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"col", ",", 
          RowBox[{
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", "swapPos", "}"}], ",", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"MemberQ", "[", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    RowBox[{"t", ";;", "rows"}], ",", "col"}], "]"}], "]"}], 
                  ",", "1"}], "]"}], ",", 
                RowBox[{
                 RowBox[{"swapPos", "=", 
                  RowBox[{
                   RowBox[{"Last", "[", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"r", "+", "1"}], ";;", "rows"}], ",", "col"}], 
                    "]"}], "]"}], ",", "1"}], "]"}], "]"}], "]"}], "+", 
                   "r"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"{", 
                    RowBox[{"t", ",", "swapPos"}], "}"}], "]"}], "]"}], "=", 
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"{", 
                    RowBox[{"swapPos", ",", "t"}], "}"}], "]"}], "]"}]}], ";",
                  "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"Join", "[", 
                   RowBox[{
                    RowBox[{"Range", "[", 
                    RowBox[{
                    RowBox[{"r", "+", "1"}], ",", 
                    RowBox[{"t", "-", "1"}]}], "]"}], ",", 
                    RowBox[{"Range", "[", 
                    RowBox[{
                    RowBox[{"t", "+", "1"}], ",", "rows"}], "]"}]}], "]"}], "//", 
                  RowBox[{"Map", "[", 
                   RowBox[{"Function", "[", 
                    RowBox[{"index", ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "All"}], "]"}], "]"}], "=", 
                    RowBox[{"Mod", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "All"}], "]"}], "]"}], "+", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "col"}], "]"}], "]"}], "*", 
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"t", ",", "All"}], "]"}], "]"}]}]}], ",", "2"}], 
                    "]"}]}], ";"}]}], "]"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"t", "++"}], ";"}]}], "]"}], ";"}]}], "]"}], ";"}]}],
          "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t", "--"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "swap", " ", "columns", " ", "so", " ", "that", " ", "leading", " ", 
        "entries", " ", "are", " ", "to", " ", "the", " ", "left", " ", "in", 
        " ", "E", " ", 
        RowBox[{"(", 
         RowBox[{
         "forming", " ", "a", " ", "t", " ", "x", " ", "t", " ", "identity", 
          " ", "matrix"}], ")"}]}], "*)"}], 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{
         RowBox[{"r", "+", "1"}], ",", "rows"}], "]"}], "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"index", ",", 
          RowBox[{
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", "swapPos", "}"}], ",", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"MemberQ", "[", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"index", ",", 
                    RowBox[{
                    RowBox[{"cols", "+", "r", "+", "1"}], ";;", 
                    RowBox[{"2", "*", "cols"}]}]}], "]"}], "]"}], ",", "1"}], 
                 "]"}], ",", 
                RowBox[{
                 RowBox[{"swapPos", "=", 
                  RowBox[{
                   RowBox[{"First", "[", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", 
                    RowBox[{
                    RowBox[{"cols", "+", "r", "+", "1"}], ";;", 
                    RowBox[{"2", "*", "cols"}]}]}], "]"}], "]"}], ",", "1"}], 
                    "]"}], "]"}], "]"}], "+", "cols", "+", "r"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"index", "+", "cols"}], ",", "swapPos"}], "}"}]}],
                     "]"}], "]"}], "=", 
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{"swapPos", ",", 
                    RowBox[{"index", "+", "cols"}]}], "}"}]}], "]"}], "]"}]}],
                  ";", "\[IndentingNewLine]", 
                 RowBox[{"(*", 
                  RowBox[{
                   RowBox[{"Don", "'"}], "t", " ", "froget", " ", "to", " ", 
                   "also", " ", "swap", " ", "columns", " ", "in", " ", "the",
                    " ", "X", " ", "half"}], "*)"}], 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{"index", ",", 
                    RowBox[{"swapPos", "-", "cols"}]}], "}"}]}], "]"}], "]"}],
                   "=", 
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"All", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"swapPos", "-", "cols"}], ",", "index"}], "}"}]}],
                     "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"index", "\[NotEqual]", 
                    RowBox[{"swapPos", "-", "cols"}]}], ",", 
                   RowBox[{
                    RowBox[{"perms", "=", 
                    RowBox[{"Append", "[", 
                    RowBox[{"perms", ",", 
                    RowBox[{"{", 
                    RowBox[{"index", ",", 
                    RowBox[{"swapPos", "-", "cols"}]}], "}"}]}], "]"}]}], 
                    ";"}]}], "]"}], ";"}]}], "]"}], ";"}]}], "]"}], ";"}]}], 
         "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"make", " ", "sure", " ", "C1"}], "=", 
        RowBox[{"0", " ", 
         RowBox[{"(", 
          RowBox[{
          "block", " ", "matrix", " ", "above", " ", "the", " ", "identity", 
           " ", "in", " ", "the", " ", "Z", " ", "half"}]}]}]}], "*)"}], 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{"t", "-", "r"}], "]"}], "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"col", ",", 
          RowBox[{
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", "swapPos", "}"}], ",", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"MemberQ", "[", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    RowBox[{"1", ";;", "r"}], ",", 
                    RowBox[{"cols", "+", "r", "+", "col"}]}], "]"}], "]"}], 
                  ",", "1"}], "]"}], ",", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Range", "[", "r", "]"}], "//", 
                  RowBox[{"Map", "[", 
                   RowBox[{"Function", "[", 
                    RowBox[{"index", ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "All"}], "]"}], "]"}], "=", 
                    RowBox[{"Mod", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", "All"}], "]"}], "]"}], "+", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"index", ",", 
                    RowBox[{"cols", "+", "r", "+", "col"}]}], "]"}], "]"}], 
                    "*", 
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"r", "+", "col"}], ",", "All"}], "]"}], "]"}]}]}],
                     ",", "2"}], "]"}]}], ";"}]}], "]"}], "]"}]}], ";"}]}], 
               "\[IndentingNewLine]", 
               RowBox[{"(*", 
                RowBox[{
                 RowBox[{"swapPos", "=", 
                  RowBox[{"First", "[", 
                   RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"1", ";;", "r"}], ",", 
                    RowBox[{"cols", "+", "r", "+", "col"}]}], "]"}], "]"}], 
                    ",", "1"}], "]"}], "]"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"L", "[", 
                   RowBox[{"[", 
                    RowBox[{"swapPos", ",", "All"}], "]"}], "]"}], "=", 
                  RowBox[{"Mod", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{"swapPos", ",", "All"}], "]"}], "]"}], "+", 
                    RowBox[{"L", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"r", "+", "col"}], ",", "All"}], "]"}], "]"}]}], 
                    ",", "2"}], "]"}]}], ";"}], "*)"}], "]"}], ";"}]}], "]"}],
            ";"}]}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"B", "=", 
       RowBox[{"L", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"1", ";;", "r"}], ",", 
          RowBox[{
           RowBox[{"cols", "+", "1"}], ";;", 
           RowBox[{"cols", "+", "r"}]}]}], "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"r", "<", "cols"}], ",", 
        RowBox[{
         RowBox[{"A", "=", 
          RowBox[{"L", "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"1", ";;", "r"}], ",", 
             RowBox[{
              RowBox[{"r", "+", "1"}], ";;", "cols"}]}], "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"adjMat", "=", 
          RowBox[{"ArrayFlatten", "[", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"B", ",", "A"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Transpose", "[", "A", "]"}], ",", "0"}], "}"}]}], 
            "}"}], "]"}]}], ";"}], ",", 
        RowBox[{
         RowBox[{"adjMat", "=", "B"}], ";"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"adjMatUnperm", "=", "adjMat"}], ";", "\[IndentingNewLine]", 
      RowBox[{"perms", "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"perm", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"adjMat", "[", 
             RowBox[{"[", 
              RowBox[{"perm", ",", "All"}], "]"}], "]"}], "=", 
            RowBox[{"adjMat", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"Reverse", "[", "perm", "]"}], ",", "All"}], "]"}], 
             "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"adjMat", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", "perm"}], "]"}], "]"}], "=", 
            RowBox[{"adjMat", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", 
               RowBox[{"Reverse", "[", "perm", "]"}]}], "]"}], "]"}]}], 
           ";"}]}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"G", "=", 
       RowBox[{"AdjacencyGraph", "[", 
        RowBox[{"adjMat", ",", 
         RowBox[{"VertexLabels", "\[Rule]", "\"\<Name\>\""}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Return", "[", 
       RowBox[{"{", 
        RowBox[{"L", ",", "G", ",", "perms", ",", 
         RowBox[{"AdjacencyGraph", "[", 
          RowBox[{"adjMatUnperm", ",", 
           RowBox[{"VertexLabels", "\[Rule]", "\"\<Name\>\""}]}], "]"}]}], 
        "}"}], "]"}], ";"}]}], "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.765539368861196*^9, 3.765539402211898*^9}, {
   3.765539597140641*^9, 3.765539610292947*^9}, {3.765539646085017*^9, 
   3.765539706421589*^9}, {3.765539738357766*^9, 3.765539814038319*^9}, {
   3.765539859782545*^9, 3.765539941895177*^9}, {3.765539990007354*^9, 
   3.765540083527945*^9}, {3.765540154856443*^9, 3.7655403364414387`*^9}, {
   3.7655403815618877`*^9, 3.7655403835937138`*^9}, {3.765540423930152*^9, 
   3.7655405492915*^9}, {3.765542163192399*^9, 3.7655421954963827`*^9}, 
   3.765542249289577*^9, {3.765542334586244*^9, 3.765542395609692*^9}, {
   3.7655425030833817`*^9, 3.765542529082815*^9}, {3.765542608187643*^9, 
   3.765542625387342*^9}, {3.765542711660199*^9, 3.765542713707662*^9}, {
   3.765542765468615*^9, 3.765542861484662*^9}, {3.7655429229574633`*^9, 
   3.765542995661149*^9}, {3.765543047614173*^9, 3.765543067678338*^9}, {
   3.7655431154547443`*^9, 3.765543203811019*^9}, {3.7655432581117887`*^9, 
   3.765543262207121*^9}, 3.765543473072877*^9, {3.765544486518457*^9, 
   3.765544513653488*^9}, {3.7655445548376017`*^9, 3.765544726694894*^9}, {
   3.765544831127439*^9, 3.765544989752565*^9}, {3.765545046601357*^9, 
   3.765545050888982*^9}, {3.765545145657988*^9, 3.765545243298913*^9}, {
   3.7655453010509*^9, 3.765545346010757*^9}, {3.765545393530875*^9, 
   3.765545407883065*^9}, {3.765545478124021*^9, 3.765545479053439*^9}, 
   3.765545608764833*^9, {3.765545652621058*^9, 3.765545710492673*^9}, {
   3.7655458550380993`*^9, 3.765546152446879*^9}, {3.7655462139189863`*^9, 
   3.765546250975518*^9}, {3.765546286799778*^9, 3.7655462937598553`*^9}, {
   3.76554633993655*^9, 3.765546473584774*^9}, {3.76554713155721*^9, 
   3.765547137284642*^9}, {3.765547295558408*^9, 3.7655472968217154`*^9}, {
   3.765547373478527*^9, 3.765547419959289*^9}, {3.765547477591145*^9, 
   3.765547494902864*^9}, {3.7655475564076853`*^9, 3.7655475999918327`*^9}, {
   3.765547666680273*^9, 3.7655477260727787`*^9}, {3.765547780025238*^9, 
   3.7655477826007338`*^9}, {3.765547823641781*^9, 3.7655478236887817`*^9}, {
   3.7655479152102823`*^9, 3.7655479197058287`*^9}, 3.765548004090948*^9, {
   3.765548041851055*^9, 3.7655480582661457`*^9}, {3.7655481569392033`*^9, 
   3.7655481602189198`*^9}, {3.765548280764139*^9, 3.7655486819013767`*^9}, {
   3.7655487208463*^9, 3.765548749325748*^9}, {3.7655487841269836`*^9, 
   3.765548790942339*^9}, {3.765548853567078*^9, 3.765548917151113*^9}, {
   3.765548950463275*^9, 3.765549010000053*^9}, {3.765549045808609*^9, 
   3.7655490713922367`*^9}, {3.765549119136984*^9, 3.765549145872621*^9}, {
   3.765549220881763*^9, 3.765549221233082*^9}, {3.765549286018458*^9, 
   3.765549286371449*^9}, {3.7655494009147987`*^9, 3.765549417762288*^9}, {
   3.765549864421412*^9, 3.765549919333152*^9}, {3.7655500161978416`*^9, 
   3.765550029989562*^9}, {3.765550364199772*^9, 3.765550372759358*^9}, {
   3.765550445032522*^9, 3.7655504761200037`*^9}, {3.7655505565535517`*^9, 
   3.765550575944557*^9}, {3.7655506884909067`*^9, 3.765550697611128*^9}, {
   3.765550790778633*^9, 3.765550814409933*^9}, {3.765550895882803*^9, 
   3.765550929370595*^9}, {3.765550988824136*^9, 3.765551021819152*^9}, {
   3.76555115060422*^9, 3.765551329565095*^9}, {3.7655513809114523`*^9, 
   3.765551399757429*^9}, {3.765551430702038*^9, 3.7655514342855988`*^9}, {
   3.765551468574686*^9, 3.765551562671546*^9}, {3.765551845973068*^9, 
   3.765551940320653*^9}, {3.765551971520657*^9, 3.765551971936509*^9}, {
   3.765552030737732*^9, 3.765552063666634*^9}, {3.765552100594442*^9, 
   3.765552102161524*^9}, {3.7655521813628063`*^9, 3.765552181538221*^9}, {
   3.765552229794909*^9, 3.765552246034416*^9}, {3.765552310835327*^9, 
   3.765552468291737*^9}, {3.765552499780716*^9, 3.765552505988174*^9}, {
   3.765552551365506*^9, 3.765552577316225*^9}, {3.765552696438116*^9, 
   3.765552750325748*^9}, {3.7655528382948236`*^9, 3.765552842230195*^9}, {
   3.765552923730033*^9, 3.765552928688909*^9}, {3.765553290665053*^9, 
   3.765553334440661*^9}, {3.765553474266623*^9, 3.765553541497991*^9}, {
   3.765553638922419*^9, 3.76555364276263*^9}, {3.765553680314864*^9, 
   3.765553803515625*^9}, {3.76555386918113*^9, 3.7655538935324574`*^9}, {
   3.7655545668004007`*^9, 3.7655546022080507`*^9}, {3.765554684001576*^9, 
   3.765554685728994*^9}, {3.765554744130518*^9, 3.765554747442778*^9}, {
   3.765558943593601*^9, 3.765558945976972*^9}, {3.76563677595877*^9, 
   3.7656367765344143`*^9}, {3.765636852022942*^9, 3.7656369380393972`*^9}, {
   3.7656369865046387`*^9, 3.7656369867923594`*^9}, {3.765637039160069*^9, 
   3.765637078312183*^9}, {3.765637181865741*^9, 3.7656373231939707`*^9}, {
   3.765637596587921*^9, 3.7656376039314823`*^9}, {3.765637762028511*^9, 
   3.7656377753885403`*^9}, 3.765637880766499*^9, {3.765637981966104*^9, 
   3.76563804766179*^9}, {3.765638469297255*^9, 3.765638509040642*^9}, {
   3.7656385552978487`*^9, 3.7656385678246803`*^9}, {3.765638629089946*^9, 
   3.765638645169252*^9}, 3.765639093261294*^9, 3.765643068787421*^9, {
   3.765645588186016*^9, 3.765645685466329*^9}, {3.765645717802836*^9, 
   3.765645765530613*^9}, {3.765645814874834*^9, 3.765645838301647*^9}, {
   3.7656466152644243`*^9, 3.765646633535831*^9}, {3.7656467590405197`*^9, 
   3.765646796256783*^9}, {3.7656468357936172`*^9, 3.765646840976914*^9}, {
   3.7656474752529993`*^9, 3.7656475252849627`*^9}, {3.765648256489902*^9, 
   3.765648270841235*^9}, {3.7656484042188807`*^9, 3.765648432714231*^9}, {
   3.765649044846087*^9, 3.765649107869794*^9}, {3.76564916567822*^9, 
   3.7656491881105757`*^9}, {3.76564921881457*^9, 3.765649261951042*^9}, {
   3.7656492960953627`*^9, 3.765649297775147*^9}, {3.765649379871282*^9, 
   3.765649402991932*^9}, {3.7656494538883877`*^9, 3.765649558784933*^9}, 
   3.765649604994238*^9, {3.7656496595212173`*^9, 3.76564968537749*^9}, {
   3.7656497505145283`*^9, 3.765649754337965*^9}, {3.765649790578938*^9, 
   3.7656497906420097`*^9}, {3.765649833027926*^9, 3.765649838194644*^9}, 
   3.7656499994605217`*^9, {3.765650057460742*^9, 3.7656500575075397`*^9}, {
   3.765650242373727*^9, 3.765650327151558*^9}, 3.7656504254813633`*^9, {
   3.76571606981314*^9, 3.765716134197154*^9}, {3.76571623266181*^9, 
   3.7657162979106197`*^9}, {3.7657305435119762`*^9, 3.765730568263081*^9}, 
   3.766166232597139*^9, {3.7681252350566187`*^9, 
   3.768125254603981*^9}},ExpressionUUID->"3d22e340-e2bf-490b-b27f-\
03e3b55b9974"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "graphToStab", " ", "converts", " ", "an", " ", "adjacency", " ", "matrix",
     " ", "to", " ", "a", " ", "stabilizer", " ", "code"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{" ", 
    RowBox[{
    "concatStabilizers", " ", "concatenates", " ", "stabilizer", " ", 
     RowBox[{"codes", " ", ":", "-"}]}], ")"}], " ", "*)"}]}]], "Input",
 CellChangeTimes->{{3.7681253095914373`*^9, 
  3.768125359073667*^9}},ExpressionUUID->"5fc0beb5-1690-4b23-bde9-\
ded50d401829"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "graphToStab", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"graphToStab", "[", "G_Graph", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"adjMat", ",", "n", ",", "stabs"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"adjMat", "=", 
       RowBox[{"AdjacencyMatrix", "[", "G", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"n", "=", 
       RowBox[{
        RowBox[{"Dimensions", "[", "adjMat", "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"stabs", "=", 
       RowBox[{"ArrayFlatten", "[", 
        RowBox[{"{", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"IdentityMatrix", "[", "n", "]"}], ",", "adjMat"}], "}"}], 
         "}"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"stabs", "=", 
       RowBox[{"Append", "[", 
        RowBox[{"stabs", ",", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"ConstantArray", "[", 
            RowBox[{"0", ",", 
             RowBox[{
              RowBox[{"2", "n"}], "-", "1"}]}], "]"}], ",", 
           RowBox[{"{", "1", "}"}]}], "]"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Return", "[", "stabs", "]"}], ";"}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "concatStabilizers", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"concatStabilizers", "[", 
    RowBox[{"innerStab_", ",", "outerStab_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inner", "=", "innerStab"}], ",", 
       RowBox[{"outer", "=", "outerStab"}], ",", "stabsInner", ",", 
       "stabsOuter", ",", "qubitsInner", ",", "qubitsOuter", ",", 
       "newStabsOuter", ",", "newStabsInnerX", ",", "newStabsInnerZ", ",", 
       "newStabsInner", ",", "newLogicalZ", ",", "newLogicalX", ",", 
       "logicalsInner", ",", "logicalsOuter", ",", "tensorStabs", ",", 
       "blockStab"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "Allow", " ", "graphs", " ", "to", " ", "be", " ", "passed", " ", "as",
         " ", "input"}], ",", " ", 
       RowBox[{
       "but", " ", "convert", " ", "them", " ", "to", " ", "stabilizers", " ",
         "before", " ", "processing", " ", "them"}]}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"GraphQ", "[", "innerStab", "]"}], ",", 
        RowBox[{
         RowBox[{"inner", "=", 
          RowBox[{"graphToStab", "[", "innerStab", "]"}]}], ";", 
         RowBox[{
         "Print", "[", 
          "\"\<Inner code supplied as graph, converted to stabilizer \
code.\>\"", "]"}], ";"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"GraphQ", "[", "outerStab", "]"}], ",", 
        RowBox[{
         RowBox[{"outer", "=", 
          RowBox[{"graphToStab", "[", "outerStab", "]"}]}], ";", 
         RowBox[{
         "Print", "[", 
          "\"\<Outer code supplied as graph, converted to stabilizer \
code.\>\"", "]"}], ";"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "Assume", " ", "that", " ", "in", " ", "inner", " ", "and", " ", 
        "outer", " ", 
        RowBox[{"(", "list", ")"}], " ", "the", " ", "last", " ", "two", " ", 
        "rows", " ", "are", " ", "the", " ", "logical", " ", "X", " ", "and", 
        " ", "logical", " ", 
        RowBox[{"Z", "."}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"stabsInner", "=", 
       RowBox[{"inner", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"1", ";;", 
           RowBox[{
            RowBox[{
             RowBox[{"Dimensions", "[", "inner", "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "2"}]}], ",", "All"}], 
         "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"stabsOuter", "=", 
       RowBox[{"outer", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"1", ";;", 
           RowBox[{
            RowBox[{
             RowBox[{"Dimensions", "[", "outer", "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "2"}]}], ",", "All"}], 
         "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"qubitsInner", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Dimensions", "[", "inner", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}], "/", "2"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"qubitsOuter", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Dimensions", "[", "outer", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}], "/", "2"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"logicalsInner", "=", 
       RowBox[{"inner", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Dimensions", "[", "inner", "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "1"}], ";;", 
           RowBox[{
            RowBox[{"Dimensions", "[", "inner", "]"}], "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ",", "All"}], "]"}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"logicalsOuter", "=", 
       RowBox[{"outer", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Dimensions", "[", "outer", "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "1"}], ";;", 
           RowBox[{
            RowBox[{"Dimensions", "[", "outer", "]"}], "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ",", "All"}], "]"}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"tensorStabs", "[", 
        RowBox[{"stab_", ",", "logicals_"}], "]"}], ":=", 
       RowBox[{"Module", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
          "innerQubits", ",", "outerQubits", ",", "stabX", ",", "stabZ"}], 
          "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"outerQubits", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"Dimensions", "[", "stab", "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], "/", "2"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"innerQubits", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"Dimensions", "[", "logicals", "]"}], "[", 
             RowBox[{"[", "2", "]"}], "]"}], "/", "2"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"stabX", "=", 
           RowBox[{"Mod", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"KroneckerProduct", "[", 
                RowBox[{
                 RowBox[{"stab", "[", 
                  RowBox[{"[", 
                   RowBox[{"1", ";;", "outerQubits"}], "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"logicals", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "[", 
                  RowBox[{"[", 
                   RowBox[{"1", ";;", "innerQubits"}], "]"}], "]"}]}], "]"}], 
               "]"}], "+", 
              RowBox[{"Flatten", "[", 
               RowBox[{"KroneckerProduct", "[", 
                RowBox[{
                 RowBox[{"stab", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"outerQubits", "+", "1"}], ";;", 
                    RowBox[{"2", "*", "outerQubits"}]}], "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"logicals", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "[", 
                  RowBox[{"[", 
                   RowBox[{"1", ";;", "innerQubits"}], "]"}], "]"}]}], "]"}], 
               "]"}]}], ",", "2"}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"stabZ", "=", 
           RowBox[{"Mod", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"KroneckerProduct", "[", 
                RowBox[{
                 RowBox[{"stab", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"outerQubits", "+", "1"}], ";;", 
                    RowBox[{"2", "*", "outerQubits"}]}], "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"logicals", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"innerQubits", "+", "1"}], ";;", 
                    RowBox[{"2", "*", "innerQubits"}]}], "]"}], "]"}]}], 
                "]"}], "]"}], "+", 
              RowBox[{"Flatten", "[", 
               RowBox[{"KroneckerProduct", "[", 
                RowBox[{
                 RowBox[{"stab", "[", 
                  RowBox[{"[", 
                   RowBox[{"1", ";;", "outerQubits"}], "]"}], "]"}], ",", 
                 RowBox[{
                  RowBox[{"logicals", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"innerQubits", "+", "1"}], ";;", 
                    RowBox[{"2", "*", "innerQubits"}]}], "]"}], "]"}]}], 
                "]"}], "]"}]}], ",", "2"}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"Return", "[", 
           RowBox[{"Join", "[", 
            RowBox[{"stabX", ",", "stabZ"}], "]"}], "]"}], ";"}]}], 
        "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"newStabsOuter", "=", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"tensorStabs", "[", 
           RowBox[{"#", ",", "logicalsInner"}], "]"}], "&"}], ",", 
         "stabsOuter"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "Define", " ", "the", " ", "stabilizers", " ", "of", " ", "the", " ", 
        "inner", " ", "code", " ", "acting", " ", "on", " ", "blocks"}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"newStabsInnerX", "=", 
       RowBox[{
        RowBox[{"IdentityMatrix", "[", "qubitsOuter", "]"}], "//", 
        RowBox[{
         RowBox[{"KroneckerProduct", "[", 
          RowBox[{"#", ",", 
           RowBox[{"stabsInner", "[", 
            RowBox[{"[", 
             RowBox[{"All", ",", 
              RowBox[{"1", ";;", "qubitsInner"}]}], "]"}], "]"}]}], "]"}], 
         "&"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"newStabsInnerZ", "=", 
       RowBox[{
        RowBox[{"IdentityMatrix", "[", "qubitsOuter", "]"}], "//", 
        RowBox[{
         RowBox[{"KroneckerProduct", "[", 
          RowBox[{"#", ",", 
           RowBox[{"stabsInner", "[", 
            RowBox[{"[", 
             RowBox[{"All", ",", 
              RowBox[{
               RowBox[{"qubitsInner", "+", "1"}], ";;", 
               RowBox[{"2", "qubitsInner"}]}]}], "]"}], "]"}]}], "]"}], 
         "&"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"newStabsInner", "=", 
       RowBox[{"ArrayFlatten", "[", 
        RowBox[{"{", 
         RowBox[{"{", 
          RowBox[{"newStabsInnerX", ",", "newStabsInnerZ"}], "}"}], "}"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"newLogicalZ", "=", 
       RowBox[{"{", 
        RowBox[{"tensorStabs", "[", 
         RowBox[{
          RowBox[{"logicalsOuter", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "All"}], "]"}], "]"}], ",", "logicalsInner"}], 
         "]"}], "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"newLogicalX", "=", 
       RowBox[{"{", 
        RowBox[{"tensorStabs", "[", 
         RowBox[{
          RowBox[{"logicalsOuter", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "All"}], "]"}], "]"}], ",", "logicalsInner"}], 
         "]"}], "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Return", "[", 
       RowBox[{"Join", "[", 
        RowBox[{
        "newStabsOuter", ",", "newStabsInner", ",", "newLogicalX", ",", 
         "newLogicalZ"}], "]"}], "]"}], ";"}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.765558969015696*^9, 3.7655589796547327`*^9}, {
   3.765559029158942*^9, 3.765559044390934*^9}, {3.765559319576651*^9, 
   3.765559403577335*^9}, {3.765559454473557*^9, 3.765559489881912*^9}, {
   3.765559707403104*^9, 3.765559804459651*^9}, {3.7655598621400213`*^9, 
   3.7655599573727903`*^9}, {3.7655599971489563`*^9, 3.76556000636486*^9}, {
   3.765560061533041*^9, 3.76556012239764*^9}, {3.765560434143363*^9, 
   3.765560461087604*^9}, {3.765560492591795*^9, 3.765560506463719*^9}, {
   3.765560628064672*^9, 3.7655607644172373`*^9}, {3.7655609244140882`*^9, 
   3.765560950690443*^9}, {3.7655610290751762`*^9, 3.765561207844051*^9}, {
   3.765561374725667*^9, 3.765561398181345*^9}, {3.765561509767119*^9, 
   3.7655615116066437`*^9}, {3.765561736935759*^9, 3.765561743879141*^9}, {
   3.765561846632421*^9, 3.765561847223604*^9}, 3.765561892761059*^9, {
   3.765571327065617*^9, 3.765571515912999*^9}, 3.765571709757348*^9, {
   3.7655717496536207`*^9, 3.765571793283757*^9}, {3.765571831051943*^9, 
   3.765571841139571*^9}, {3.765571878356669*^9, 3.76557189494378*^9}, {
   3.7655720115162973`*^9, 3.765572054302472*^9}, {3.7655721386453753`*^9, 
   3.7655722374886*^9}, {3.765572436663733*^9, 3.7655724990730753`*^9}, {
   3.7655725437040863`*^9, 3.7655726953848553`*^9}, {3.765572744739379*^9, 
   3.765572749470669*^9}, {3.765572909287849*^9, 3.765573035076632*^9}, {
   3.7655730667275467`*^9, 3.765573096563345*^9}, {3.7655731386425877`*^9, 
   3.7655731869335403`*^9}, {3.765573571742899*^9, 3.765573901742856*^9}, {
   3.765573936182028*^9, 3.7655740310050783`*^9}, {3.7655740926774693`*^9, 
   3.765574234430923*^9}, {3.7656463207652893`*^9, 3.765646360124509*^9}, 
   3.7656464001253557`*^9, {3.765647070817574*^9, 3.765647096544897*^9}, {
   3.765647291201839*^9, 3.765647387522627*^9}, {3.7656474282436543`*^9, 
   3.7656474309148293`*^9}, {3.765647552292083*^9, 3.7656475598917093`*^9}, {
   3.765647690420244*^9, 3.765647749476709*^9}, {3.765647780215673*^9, 
   3.765647799430149*^9}, {3.76564785949356*^9, 3.7656480723268147`*^9}, {
   3.765648110055785*^9, 3.765648161959025*^9}, {3.765716000835668*^9, 
   3.765716021476227*^9}, 3.7657160629962463`*^9, {3.768125372634165*^9, 
   3.768125374877005*^9}},ExpressionUUID->"7fd2c288-cc15-49d5-b54f-\
029c86147c0f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "Define", " ", "a", " ", "couple", " ", "of", " ", "standard", " ", 
    "stabilizer", " ", "codes", " ", "that", " ", "we", " ", "can", " ", 
    "use", " ", "in", " ", "concatenation"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"repBit", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1", ",", "1", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1", ",", "0", ",", "1"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "1", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1", ",", "1", ",", "1"}], 
        "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"repPhase", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "1", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "1", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1", ",", "1", ",", "1"}], 
        "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Shor", "=", 
     RowBox[{"concatStabilizers", "[", 
      RowBox[{"repBit", ",", "repPhase"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Steane", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "0", ",", "0", ",", "0", ",", "1", ",", "1", ",", "1", ",", "1", ",", 
         "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "1", ",", "1", ",", "0", ",", "0", ",", "1", ",", "1", ",", 
         "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "1", ",", "0", ",", "1", ",", "0", ",", "1", ",", "0", ",", "1", ",", 
         "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
         "0", ",", "0", ",", "0", ",", "1", ",", "1", ",", "1", ",", "1"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
         "0", ",", "1", ",", "1", ",", "0", ",", "0", ",", "1", ",", "1"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
         "1", ",", "0", ",", "1", ",", "0", ",", "1", ",", "0", ",", "1"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", 
         "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
         "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1"}], 
        "}"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"fiveQubit", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "1", ",", "0", ",", "0", ",", "1", ",", "0", ",", "0", ",", "1", ",", 
         "1", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "1", ",", "0", ",", "0", ",", "1", ",", "0", ",", "0", ",", 
         "1", ",", "1", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "1", ",", "0", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
         "0", ",", "1", ",", "1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "1", ",", "0", ",", "1", ",", "0", ",", "1", ",", "0", ",", 
         "0", ",", "0", ",", "1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "0", ",", "0", ",", 
         "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "1", ",", "1", ",", 
         "1", ",", "1", ",", "1"}], "}"}]}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"Clear", "[", "repCode", "]"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"repCode", "[", 
      RowBox[{"qubits_Integer", ",", 
       RowBox[{"mode_:", "\"\<Z\>\""}]}], "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"stabs", ",", "zeroVec", ",", "stabList"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"stabs", "=", 
         RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"zeroVec", "=", 
         RowBox[{"ConstantArray", "[", 
          RowBox[{"0", ",", "qubits"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"Range", "[", 
          RowBox[{"2", ",", "qubits"}], "]"}], "//", 
         RowBox[{"Map", "[", 
          RowBox[{"Function", "[", 
           RowBox[{"index", ",", 
            RowBox[{
             RowBox[{"Module", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"vec", "=", "zeroVec"}], "}"}], ",", 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{
                 RowBox[{"vec", "[", 
                  RowBox[{"[", 
                   RowBox[{"{", 
                    RowBox[{"1", ",", "index"}], "}"}], "]"}], "]"}], "=", 
                 "1"}], ";", "\[IndentingNewLine]", 
                RowBox[{"stabs", "=", 
                 RowBox[{"Append", "[", 
                  RowBox[{"stabs", ",", "vec"}], "]"}]}], ";"}]}], 
              "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
           "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"Switch", "[", 
         RowBox[{
         "mode", ",", "\[IndentingNewLine]", "\"\<Z\>\"", ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"stabList", "=", 
            RowBox[{"ArrayFlatten", "[", 
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"qubits", "-", "1"}], ",", "qubits"}], "}"}]}], 
                 "]"}], ",", "stabs"}], "}"}], "}"}], "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"stabList", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"stabList", ",", 
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"1", ",", "qubits"}], "]"}], ",", 
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", "qubits"}], "]"}]}], "]"}]}], "]"}]}], ";",
            "\[IndentingNewLine]", 
           RowBox[{"stabList", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"stabList", ",", 
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", "qubits"}], "]"}], ",", 
                RowBox[{"{", "1", "}"}], ",", 
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", 
                  RowBox[{"qubits", "-", "1"}]}], "]"}]}], "]"}]}], "]"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{"Return", "[", "stabList", "]"}], ";"}], ",", 
          "\[IndentingNewLine]", "\"\<X\>\"", ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"stabList", "=", 
            RowBox[{"ArrayFlatten", "[", 
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"stabs", ",", 
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"qubits", "-", "1"}], ",", "qubits"}], "}"}]}], 
                 "]"}]}], "}"}], "}"}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"stabList", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"stabList", ",", 
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", "qubits"}], "]"}], ",", 
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"1", ",", "qubits"}], "]"}]}], "]"}]}], "]"}]}], ";",
            "\[IndentingNewLine]", 
           RowBox[{"stabList", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"stabList", ",", 
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"{", "1", "}"}], ",", 
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", 
                  RowBox[{"qubits", "-", "1"}]}], "]"}], ",", 
                RowBox[{"ConstantArray", "[", 
                 RowBox[{"0", ",", "qubits"}], "]"}]}], "]"}]}], "]"}]}], ";",
            "\[IndentingNewLine]", 
           RowBox[{"Return", "[", "stabList", "]"}], ";"}]}], 
         "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
      "]"}]}], ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.765718035068542*^9, 3.765718208893751*^9}, {
  3.765718256302246*^9, 3.7657182609902973`*^9}, {3.765718345678705*^9, 
  3.765718407262929*^9}, {3.765718439263295*^9, 3.7657184461754503`*^9}, {
  3.765718504079752*^9, 3.765718532607966*^9}, {3.765718580912098*^9, 
  3.76571859644831*^9}, {3.765718638640587*^9, 3.765718692528874*^9}, {
  3.765718788913165*^9, 3.76571889364997*^9}, {3.7657189575385313`*^9, 
  3.7657190160188723`*^9}, {3.765719050691841*^9, 3.765719166388051*^9}},
 CellLabel->"In[97]:=",ExpressionUUID->"9c522582-4e71-4460-bc4e-3e0efd7982f7"],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
  "permuteVertices", " ", "does", " ", "a", " ", "label", " ", "permutation", 
   " ", "of", " ", "the", " ", "vertices", " ", "since", " ", "coffeecode", 
   " ", "needs", " ", "the", " ", "system", " ", "vertices", " ", "in", " ", 
   RowBox[{"front", "."}]}], " ", "*)"}]], "Input",
 CellChangeTimes->{{3.768125396497905*^9, 
  3.7681254209038687`*^9}},ExpressionUUID->"c09499aa-9345-4b22-aabc-\
dee1f1436380"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "permuteVertices", "]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"permuteVertices", "[", 
    RowBox[{"G_Graph", ",", "vertexGroup1_", ",", "vertexGroup2_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"perms", "=", 
        RowBox[{"{", "}"}]}], ",", 
       RowBox[{"A", "=", 
        RowBox[{"AdjacencyMatrix", "[", "G", "]"}]}]}], "}"}], ",", 
     RowBox[{
      RowBox[{"Assert", "[", 
       RowBox[{
        RowBox[{"Length", "[", "vertexGroup1", "]"}], "\[Equal]", 
        RowBox[{"Length", "[", "vertexGroup2", "]"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{"Length", "[", "vertexGroup1", "]"}], "]"}], "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"index", ",", 
          RowBox[{
           RowBox[{"perms", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"perms", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"vertexGroup1", "[", 
                 RowBox[{"[", "index", "]"}], "]"}], ",", 
                RowBox[{"vertexGroup2", "[", 
                 RowBox[{"[", "index", "]"}], "]"}]}], "}"}]}], "]"}]}], 
           ";"}]}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"perms", "//", 
       RowBox[{"Map", "[", 
        RowBox[{"Function", "[", 
         RowBox[{"perm", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"A", "[", 
             RowBox[{"[", "perm", "]"}], "]"}], "=", 
            RowBox[{"A", "[", 
             RowBox[{"[", 
              RowBox[{"Reverse", "[", "perm", "]"}], "]"}], "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"A", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", "perm"}], "]"}], "]"}], "=", 
            RowBox[{"A", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", 
               RowBox[{"Reverse", "[", "perm", "]"}]}], "]"}], "]"}]}], 
           ";"}]}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Return", "[", 
       RowBox[{"AdjacencyGraph", "[", 
        RowBox[{"A", ",", 
         RowBox[{"VertexLabels", "\[Rule]", "\"\<Name\>\""}]}], "]"}], "]"}], 
      ";"}]}], "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7659750756677017`*^9, 3.76597507566851*^9}},
 CellLabel->
  "In[104]:=",ExpressionUUID->"e3495079-247d-40e2-9a8d-09b6fb6f3308"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "estimateRuntime", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"estimateRuntime", "[", 
   RowBox[{"G_Graph", ",", "kSys_", ",", 
    RowBox[{"execTime_:", 
     RowBox[{"10", "^", 
      RowBox[{"(", 
       RowBox[{"-", "8"}], ")"}]}]}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "tm", "}"}], ",", 
    RowBox[{
     RowBox[{"tm", "=", 
      RowBox[{"N", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"4", "^", 
          RowBox[{"VertexCount", "[", "G", "]"}]}], "/", 
         RowBox[{"GroupOrder", "[", 
          RowBox[{"GroupForGraph", "[", 
           RowBox[{"G", ",", "kSys"}], "]"}], "]"}]}], "*", "execTime"}], 
       "]"}]}], ";", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<Estimated time in seconds: \>\"", ",", "tm"}], "]"}], ";", 
     
     RowBox[{"Print", "[", 
      RowBox[{"\"\<Estimated time in days: \>\"", ",", 
       RowBox[{"tm", "/", 
        RowBox[{"(", 
         RowBox[{"3600", "*", "24"}], ")"}]}]}], "]"}], ";"}]}], 
   "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.766072699725477*^9, 3.766072791002934*^9}, {
  3.7660731835127363`*^9, 3.766073244132432*^9}},
 CellLabel->
  "In[106]:=",ExpressionUUID->"f8db0502-5d9b-4983-b05a-348c523d6519"],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
  "hadamard", " ", "flips", " ", "X", " ", "and", " ", "Z", " ", "in", " ", 
   "a", " ", "stabilizer", " ", "code"}], " ", "*)"}]], "Input",
 CellChangeTimes->{{3.768125433786372*^9, 
  3.768125450144555*^9}},ExpressionUUID->"a3995ddf-f48c-45b9-8204-\
865c025d201f"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "hadamard", "]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"hadamard", "[", "stab_", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"qubitsInner", ",", "numberGens"}], "}"}], ",", 
     RowBox[{
      RowBox[{"qubitsInner", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Dimensions", "[", "stab", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}], "/", "2"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"numberGens", "=", 
       RowBox[{
        RowBox[{"Dimensions", "[", "stab", "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Return", "[", 
       RowBox[{"ArrayFlatten", "[", 
        RowBox[{"{", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"stab", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"1", ";;", "numberGens"}], ",", 
              RowBox[{
               RowBox[{"qubitsInner", "+", "1"}], ";;", 
               RowBox[{"2", "*", "qubitsInner"}]}]}], "]"}], "]"}], ",", 
           RowBox[{"stab", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"1", ";;", "numberGens"}], ",", 
              RowBox[{"1", ";;", "qubitsInner"}]}], "]"}], "]"}]}], "}"}], 
         "}"}], "]"}], "]"}], ";"}]}], "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7661661515279284`*^9, 3.766166151528585*^9}},
 CellLabel->
  "In[108]:=",ExpressionUUID->"08316915-8723-47d9-972f-1c4fa7245d62"],

Cell[BoxData[
 RowBox[{
  RowBox[{"shorInSteane", "=", 
   RowBox[{"standardForm", "[", 
    RowBox[{"concatStabilizers", "[", 
     RowBox[{"Shor", ",", "Steane"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.765716751638118*^9, 3.765716812118701*^9}},
 CellLabel->
  "In[119]:=",ExpressionUUID->"2e6498df-914d-44a5-a26d-c03ba97597d1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"shorInShor", "=", 
   RowBox[{"standardForm", "[", 
    RowBox[{"concatStabilizers", "[", 
     RowBox[{"Shor", ",", "Shor"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.765716797686368*^9, 3.7657168201658363`*^9}},
 CellLabel->
  "In[120]:=",ExpressionUUID->"a0235a28-b17b-486b-b357-278123e54720"],

Cell[BoxData[
 RowBox[{
  RowBox[{"fiveInSteane", "=", 
   RowBox[{"standardForm", "[", 
    RowBox[{"concatStabilizers", "[", 
     RowBox[{"fiveQubit", ",", "Steane"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7657170722641*^9, 3.765717088311552*^9}},
 CellLabel->
  "In[123]:=",ExpressionUUID->"10947e02-2bd3-4f8f-8333-9aafa8372451"]
},
WindowSize->{1912, 1020},
WindowMargins->{{Automatic, 3}, {1, Automatic}},
FrontEndVersion->"11.3 for Linux x86 (64-bit) (March 6, 2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 1116, 27, 70, "Input",ExpressionUUID->"da6061cf-3f5b-4a3b-a383-6b310cf0758e"],
Cell[1677, 49, 30642, 678, 1568, "Input",ExpressionUUID->"3d22e340-e2bf-490b-b27f-03e3b55b9974",
 InitializationCell->True],
Cell[32322, 729, 555, 14, 69, "Input",ExpressionUUID->"5fc0beb5-1690-4b23-bde9-ded50d401829"],
Cell[32880, 745, 14499, 337, 1191, "Input",ExpressionUUID->"7fd2c288-cc15-49d5-b54f-029c86147c0f",
 InitializationCell->True],
Cell[47382, 1084, 10160, 245, 930, "Input",ExpressionUUID->"9c522582-4e71-4460-bc4e-3e0efd7982f7",
 InitializationCell->True],
Cell[57545, 1331, 459, 9, 39, "Input",ExpressionUUID->"c09499aa-9345-4b22-aabc-dee1f1436380"],
Cell[58007, 1342, 2527, 66, 205, "Input",ExpressionUUID->"e3495079-247d-40e2-9a8d-09b6fb6f3308",
 InitializationCell->True],
Cell[60537, 1410, 1293, 36, 147, "Input",ExpressionUUID->"f8db0502-5d9b-4983-b05a-348c523d6519",
 InitializationCell->True],
Cell[61833, 1448, 313, 7, 39, "Input",ExpressionUUID->"a3995ddf-f48c-45b9-8204-865c025d201f"],
Cell[62149, 1457, 1541, 41, 147, "Input",ExpressionUUID->"08316915-8723-47d9-972f-1c4fa7245d62",
 InitializationCell->True],
Cell[63693, 1500, 347, 8, 39, "Input",ExpressionUUID->"2e6498df-914d-44a5-a26d-c03ba97597d1"],
Cell[64043, 1510, 345, 8, 39, "Input",ExpressionUUID->"a0235a28-b17b-486b-b357-278123e54720"],
Cell[64391, 1520, 350, 8, 39, "Input",ExpressionUUID->"10947e02-2bd3-4f8f-8333-9aafa8372451"]
}
]
*)

